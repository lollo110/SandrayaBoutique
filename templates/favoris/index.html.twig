{% extends 'base.html.twig' %}

{% block title %}Hello FavorisController!{% endblock %}

{% block body %}
<div id="cart-message">
    Produit ajouté au panier !
</div>
<h1><canvas class="stitch-title" data-text="5AVORIS"></canvas></h1>

{% if favoris is empty %}
    <p>Vous n'avez aucun favori.</p>
{% else %}
    <table border="1">
        <thead>
            <tr>
                <th>Image</th>
                <th>Nom du produit</th>
                <th>Prix</th>
                <th>Supprime</th>
                <th>Ajouter au panier</th>
            </tr>
        </thead>
        <tbody>
            {% for fav in favoris %}
                <tr id="favori-{{ fav.id }}">
                    <td>
                        {% if fav.produit.produitsImages|length > 0 %}
                            <img src="{{ asset('assets/uploads/' ~ fav.produit.produitsImages[0].image) }}"
                                 alt="{{ fav.produit.nomProd }}" width="80">
                        {% endif %}
                    </td>
                    <td>{{ fav.produit.nomProd }}</td>
                    <td>{{ fav.produit.prix }} €</td>
                    <td>
                        <button class="supprimer-favoris" id="{{ fav.id }}">Supprimer</button>
                    </td>
                    <td>
                    <button class="addToCart-favoris" id="{{ fav.produit.id }}">Ajouter au panier</button>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
{% endblock %}
